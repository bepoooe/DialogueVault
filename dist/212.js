"use strict";(self.webpackChunkdialogue_vault=self.webpackChunkdialogue_vault||[]).push([[212],{212:(e,t,a)=>{a.r(t),a.d(t,{Sidebar:()=>i});var s=a(848),l=a(540);const i=()=>{const[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(!1),[n,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{const e=e=>{"DIALOGUEVAULT_UPDATE_TURNS"===e.data.type&&(t(e.data.turns),i(e.data.isDesktop))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const o=e=>{d(e),window.parent.postMessage({type:"DIALOGUEVAULT_SCROLL_TO_TURN",index:e},"*")};return(0,s.jsxs)("div",{className:"dialoguevault-sidebar",children:[(0,s.jsxs)("div",{className:"dialoguevault-header",children:[(0,s.jsxs)("div",{className:"dialoguevault-title-container",children:[(0,s.jsx)("img",{src:"/logo2.png",alt:"DialogueVault Logo",className:"dialoguevault-logo"}),(0,s.jsx)("div",{className:"dialoguevault-title",children:"DialogueVault"})]}),(0,s.jsx)("button",{className:"dialoguevault-close-btn",onClick:()=>{window.parent.postMessage({type:"DIALOGUEVAULT_CLOSE_SIDEBAR"},"*")},title:"Close sidebar",children:(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"dialoguevault-content",children:0===e.length?(0,s.jsxs)("div",{className:"dialoguevault-empty",children:[(0,s.jsx)("p",{children:"No conversation detected"}),(0,s.jsx)("p",{className:"dialoguevault-empty-subtitle",children:"Navigate your conversation with the sidebar index once you start chatting"})]}):(0,s.jsx)("div",{className:"dialoguevault-turns",children:e.map((e,t)=>(0,s.jsxs)("div",{className:`dialoguevault-turn ${e.type} ${n===t?"selected":""}`,onClick:()=>o(t),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(t))},children:[(0,s.jsxs)("div",{className:"dialoguevault-turn-header",children:[(0,s.jsx)("span",{className:"dialoguevault-turn-number",children:t+1}),(0,s.jsx)("span",{className:"dialoguevault-turn-type",children:"user"===e.type?"You":"Assistant"})]}),(0,s.jsx)("div",{className:"dialoguevault-turn-preview",children:e.preview})]},t))})}),(0,s.jsx)("div",{className:"dialoguevault-footer",children:(0,s.jsxs)("div",{className:"dialoguevault-shortcut",children:[(0,s.jsx)("div",{children:"Ctrl+Shift+I to toggle"}),(0,s.jsx)("div",{style:{fontSize:"11px",opacity:.8,marginTop:"2px"},children:"Ctrl+Shift+R to refresh"})]})})]})}}}]);