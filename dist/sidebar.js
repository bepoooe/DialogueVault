(()=>{"use strict";var e,t={364:(e,t,a)=>{var s=a(848),l=a(338),r=a(540);l.createRoot(document.getElementById("root")).render((0,s.jsx)(()=>{const[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=e=>{"DIALOGUEVAULT_UPDATE_TURNS"===e.data.type&&(t(e.data.turns),l(e.data.isDesktop))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const o=e=>{n(e),window.parent.postMessage({type:"DIALOGUEVAULT_SCROLL_TO_TURN",index:e},"*")};return(0,s.jsxs)("div",{className:"dialoguevault-sidebar",children:[(0,s.jsxs)("div",{className:"dialoguevault-header",children:[(0,s.jsx)("div",{className:"dialoguevault-title",children:"DialogueVault"}),(0,s.jsx)("button",{className:"dialoguevault-close-btn",onClick:()=>{window.parent.postMessage({type:"DIALOGUEVAULT_CLOSE_SIDEBAR"},"*")},title:"Close sidebar",children:(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"dialoguevault-content",children:0===e.length?(0,s.jsxs)("div",{className:"dialoguevault-empty",children:[(0,s.jsx)("p",{children:"No conversation detected"}),(0,s.jsx)("p",{className:"dialoguevault-empty-subtitle",children:"Navigate your conversation with the sidebar index once you start chatting"})]}):(0,s.jsx)("div",{className:"dialoguevault-turns",children:e.map((e,t)=>(0,s.jsxs)("div",{className:`dialoguevault-turn ${e.type} ${i===t?"selected":""}`,onClick:()=>o(t),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(t))},children:[(0,s.jsxs)("div",{className:"dialoguevault-turn-header",children:[(0,s.jsx)("span",{className:"dialoguevault-turn-number",children:t+1}),(0,s.jsx)("span",{className:"dialoguevault-turn-type",children:"user"===e.type?"You":"Assistant"})]}),(0,s.jsx)("div",{className:"dialoguevault-turn-preview",children:e.preview})]},t))})}),(0,s.jsx)("div",{className:"dialoguevault-footer",children:(0,s.jsxs)("div",{className:"dialoguevault-shortcut",children:[(0,s.jsx)("div",{children:"Ctrl+Shift+I to toggle"}),(0,s.jsx)("div",{style:{fontSize:"11px",opacity:.8,marginTop:"2px"},children:"Ctrl+Shift+R to refresh"})]})})]})},{}))}},a={};function s(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,a,l,r)=>{if(!a){var i=1/0;for(u=0;u<e.length;u++){for(var[a,l,r]=e[u],n=!0,o=0;o<a.length;o++)(!1&r||i>=r)&&Object.keys(s.O).every(e=>s.O[e](a[o]))?a.splice(o--,1):(n=!1,r<i&&(i=r));if(n){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,l,r]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={61:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[i,n,o]=a,d=0;if(i.some(t=>0!==e[t])){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(o)var u=o(s)}for(t&&t(a);d<i.length;d++)r=i[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},a=self.webpackChunkdialogue_vault=self.webpackChunkdialogue_vault||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=s.O(void 0,[179],()=>s(364));l=s.O(l)})();