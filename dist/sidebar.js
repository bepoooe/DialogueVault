(()=>{"use strict";var e,t={364:(e,t,a)=>{var s=a(848),l=a(338),i=a(540);l.createRoot(document.getElementById("root")).render((0,s.jsx)(()=>{const[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=e=>{"DIALOGUEVAULT_UPDATE_TURNS"===e.data.type&&(t(e.data.turns),l(e.data.isDesktop))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const n=e=>{o(e),window.parent.postMessage({type:"DIALOGUEVAULT_SCROLL_TO_TURN",index:e},"*")};return(0,s.jsxs)("div",{className:"dialoguevault-sidebar",children:[(0,s.jsxs)("div",{className:"dialoguevault-header",children:[(0,s.jsxs)("div",{className:"dialoguevault-title-container",children:[(0,s.jsx)("img",{src:"/logo2.png",alt:"DialogueVault Logo",className:"dialoguevault-logo"}),(0,s.jsx)("div",{className:"dialoguevault-title",children:"DialogueVault"})]}),(0,s.jsx)("button",{className:"dialoguevault-close-btn",onClick:()=>{window.parent.postMessage({type:"DIALOGUEVAULT_CLOSE_SIDEBAR"},"*")},title:"Close sidebar",children:(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"dialoguevault-content",children:0===e.length?(0,s.jsxs)("div",{className:"dialoguevault-empty",children:[(0,s.jsx)("p",{children:"No conversation detected"}),(0,s.jsx)("p",{className:"dialoguevault-empty-subtitle",children:"Navigate your conversation with the sidebar index once you start chatting"})]}):(0,s.jsx)("div",{className:"dialoguevault-turns",children:e.map((e,t)=>(0,s.jsxs)("div",{className:`dialoguevault-turn ${e.type} ${r===t?"selected":""}`,onClick:()=>n(t),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(t))},children:[(0,s.jsxs)("div",{className:"dialoguevault-turn-header",children:[(0,s.jsx)("span",{className:"dialoguevault-turn-number",children:t+1}),(0,s.jsx)("span",{className:"dialoguevault-turn-type",children:"user"===e.type?"You":"Assistant"})]}),(0,s.jsx)("div",{className:"dialoguevault-turn-preview",children:e.preview})]},t))})}),(0,s.jsx)("div",{className:"dialoguevault-footer",children:(0,s.jsxs)("div",{className:"dialoguevault-shortcut",children:[(0,s.jsx)("div",{children:"Ctrl+Shift+I to toggle"}),(0,s.jsx)("div",{style:{fontSize:"11px",opacity:.8,marginTop:"2px"},children:"Ctrl+Shift+R to refresh"})]})})]})},{}))}},a={};function s(e){var l=a[e];if(void 0!==l)return l.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,a,l,i)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,l,i]=e[u],o=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every(e=>s.O[e](a[n]))?a.splice(n--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,l,i]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={61:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var l,i,[r,o,n]=a,d=0;if(r.some(t=>0!==e[t])){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(n)var u=n(s)}for(t&&t(a);d<r.length;d++)i=r[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self.webpackChunkdialogue_vault=self.webpackChunkdialogue_vault||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=s.O(void 0,[179],()=>s(364));l=s.O(l)})();