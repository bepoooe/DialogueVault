(()=>{"use strict";var e,t={364:(e,t,a)=>{var s=a(848),r=a(338),l=a(540);r.createRoot(document.getElementById("root")).render((0,s.jsx)(()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),[n,i]=(0,l.useState)(null);(0,l.useEffect)(()=>{const e=e=>{"DIALOGUEVAULT_UPDATE_TURNS"===e.data.type&&(t(e.data.turns),r(e.data.isDesktop))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const o=e=>{i(e),window.parent.postMessage({type:"DIALOGUEVAULT_SCROLL_TO_TURN",index:e},"*")};return(0,s.jsxs)("div",{className:"dialoguevault-sidebar",children:[(0,s.jsx)("div",{className:"dialoguevault-content",children:0===e.length?(0,s.jsxs)("div",{className:"dialoguevault-empty",children:[(0,s.jsx)("p",{children:"No conversation detected"}),(0,s.jsx)("p",{className:"dialoguevault-empty-subtitle",children:"Navigate your conversation with the sidebar index once you start chatting"})]}):(0,s.jsx)("div",{className:"dialoguevault-turns",children:e.map((e,t)=>(0,s.jsxs)("div",{className:`dialoguevault-turn ${e.type} ${n===t?"selected":""}`,onClick:()=>o(t),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(t))},children:[(0,s.jsxs)("div",{className:"dialoguevault-turn-header",children:[(0,s.jsx)("span",{className:"dialoguevault-turn-number",children:t+1}),(0,s.jsx)("span",{className:"dialoguevault-turn-type",children:"user"===e.type?"You":"Assistant"})]}),(0,s.jsx)("div",{className:"dialoguevault-turn-preview",children:e.preview})]},t))})}),(0,s.jsx)("div",{className:"dialoguevault-footer",children:(0,s.jsx)("div",{className:"dialoguevault-shortcut",children:"Ctrl+Shift+I to toggle"})})]})},{}))}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,s),l.exports}s.m=t,e=[],s.O=(t,a,r,l)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,r,l]=e[d],i=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(s.O).every(e=>s.O[e](a[o]))?a.splice(o--,1):(i=!1,l<n&&(n=l));if(i){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,r,l]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={61:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[n,i,o]=a,u=0;if(n.some(t=>0!==e[t])){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(o)var d=o(s)}for(t&&t(a);u<n.length;u++)l=n[u],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},a=self.webpackChunkdialogue_vault=self.webpackChunkdialogue_vault||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=s.O(void 0,[179],()=>s(364));r=s.O(r)})();